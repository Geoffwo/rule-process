# File Rule Processing Tool

## 1. é¡¹ç›®ç®€ä»‹

ä¸€ä¸ªåŸºäºNode.jsçš„æ–‡ä»¶è§„åˆ™å¤„ç†å·¥å…·ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š
â€¢ ğŸ“ çµæ´»çš„æ–‡ä»¶å¤„ç†æµç¨‹ï¼šæ”¯æŒæ–‡ä»¶/ç›®å½•è¾“å…¥è¾“å‡º

â€¢ ğŸ› ï¸ è‡ªå®šä¹‰è§„åˆ™å¼•æ“ï¼šé€šè¿‡JavaScriptè§„åˆ™æ–‡ä»¶æ§åˆ¶å¤„ç†é€»è¾‘

â€¢ ğŸ“‚ æ™ºèƒ½ç›®å½•ç”Ÿæˆï¼šè‡ªåŠ¨åˆ›å»ºåµŒå¥—ç›®å½•ç»“æ„

â€¢ âš¡ é«˜æ•ˆæ‰¹å¤„ç†ï¼šé€’å½’å¤„ç†ç›®å½•å†…å®¹ï¼Œæ”¯æŒ2MBä»¥ä¸‹æ–‡ä»¶å¤„ç†


---

## 2. å®‰è£…æŒ‡å—

### 2.1 ç¯å¢ƒè¦æ±‚

â€¢ Node.js >=14.18.0

### 2.2 å®‰è£…æ–¹å¼

```bash
# å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰
npm install -g file-rule-process

# æˆ–ä½œä¸ºé¡¹ç›®ä¾èµ–å®‰è£…
npm install file-rule-process
```

## 3. å¿«é€Ÿå¼€å§‹

### 3.1 è¿è¡Œç¤ºä¾‹é¡¹ç›®

```bash
# æ‰§è¡Œç¤ºä¾‹æ„å»º
rule-process build

# æˆ–ä½¿ç”¨npmè„šæœ¬
npm run start:example
```

### 3.2 æŸ¥çœ‹è¾“å‡ºç»“æœ

```bash
# ç”Ÿæˆæ–‡ä»¶ä½äº
/examples/outputDir/result.js
```

## 4. é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ examples/          # ç¤ºä¾‹æ–‡ä»¶
â”‚   â”œâ”€â”€ inputDir/      # è¾“å…¥ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ demo.txt
â”‚   â”œâ”€â”€ outputDir/     # è¾“å‡ºç¤ºä¾‹
â”‚   â””â”€â”€ ruleDir/       # è§„åˆ™æ–‡ä»¶
â”‚       â””â”€â”€ rule.js    
â”œâ”€â”€ src/               # æºä»£ç 
â”‚   â”œâ”€â”€ cli.js         # å‘½ä»¤è¡Œæ¥å£
â”‚   â””â”€â”€ main.js        # æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## 5. ä½¿ç”¨è¯´æ˜

### 5.1 å‘½ä»¤è¡Œæ¨¡å¼

#### 1. åŸºç¡€å‘½ä»¤

```bash
rule-process [options]
```

#### 2. å‘½ä»¤é€‰é¡¹

| é€‰é¡¹                  | æè¿°                  | é»˜è®¤å€¼                       |
| --------------------- | --------------------- | ---------------------------- |
| `-i, --input <path>`  | è¾“å…¥è·¯å¾„ï¼ˆæ–‡ä»¶/ç›®å½•ï¼‰ | `./examples/inputDir`        |
| `-o, --output <path>` | è¾“å‡ºè·¯å¾„ï¼ˆæ–‡ä»¶/ç›®å½•ï¼‰ | `./examples/outputDir`       |
| `-r, --rule <path>`   | è§„åˆ™æ–‡ä»¶è·¯å¾„          | `./examples/ruleDir/rule.js` |
| `-v, --version`       | æ˜¾ç¤ºç‰ˆæœ¬å·            | -                            |
| `build`               | ç¤ºä¾‹æ„å»º              | -                            |

##### 1. åŸºæœ¬æ„å»º

```bash
rule-process build
```

##### 2. è‡ªå®šä¹‰è·¯å¾„

```bash
rule-process build \
  -i ./src/assets \
  -o ./dist \
  -r ./config/transform-rules.js
```

##### 3. è·å–å¸®åŠ©ä¿¡æ¯

```bash
rule-process --help
```

### 5.2 Node.js APIè°ƒç”¨

#### 1. ä»£ç ç¤ºä¾‹

```javascript
// build.js
const path = require('path');
const { build, baseConfig } = require('file-rule-process');

// è‡ªå®šä¹‰é…ç½®
const config = {
  input: path.join(__dirname, 'src'), 
  output: path.resolve('./dist'),
  rule: './custom-rules/advanced.js'
};

// åŒæ­¥æ„å»º
try {
  build({ ...baseConfig, ...config });
  console.log('âœ… æ„å»ºæˆåŠŸ');
} catch (error) {
  console.error('âŒ æ„å»ºå¤±è´¥:', error.message);
  process.exit(1);
}
```

#### 2. å‚æ•°è¯´æ˜

| å‚æ•°     | ç±»å‹   | å¿…å¡« | è¯´æ˜                         |
| -------- | ------ | ---- | ---------------------------- |
| `input`  | string | å¦   | è¾“å…¥è·¯å¾„ï¼Œæ”¯æŒç»å¯¹/ç›¸å¯¹è·¯å¾„  |
| `output` | string | å¦   | è¾“å‡ºè·¯å¾„ï¼Œè‡ªåŠ¨åˆ›å»ºç›®å½•ç»“æ„   |
| `rule`   | string | å¦   | è§„åˆ™æ–‡ä»¶è·¯å¾„ï¼Œéœ€å¯¼å‡ºå¤„ç†å‡½æ•° |

## 6. è´¡çŒ®æŒ‡å—

æ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸è´¡çŒ®ï¼š
1. æäº¤[Issue](https://github.com/your-repo/issues)æŠ¥å‘Šé—®é¢˜
2. å‘èµ·[Pull Request](https://github.com/your-repo/pulls)æ”¹è¿›ä»£ç 
3. å®Œå–„[ç¤ºä¾‹è§„åˆ™](src/examples/ruleDir)åº“

## 7. æ”¯æŒé¡¹ç›®

å¦‚æœæœ¬é¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿æ‰“èµæ”¯æŒä½œè€…æŒç»­ç»´æŠ¤ï¼š
- ğŸš€ ä»»æ„é‡‘é¢ - å¯¹ä½œè€…çš„æ”¯æŒ
- â˜• 5 å…ƒ - è¯·ä½œè€…å–æ¯å’–å•¡
- ğŸ“š 10 å…ƒ - å¸®åŠ©æ–‡æ¡£æ”¹è¿›

| æ”¯ä»˜å®                             | å¾®ä¿¡æ”¯ä»˜                            |
|---------------------------------|-----------------------------------|
| ![alipay](assets/alipay-qr.jpg) | ![wechat](assets/wechat-qr.jpg)   |

### æ‰“èµæ€§è´¨è¯´æ˜
1. æ‰€æœ‰æ‰“èµè¡Œä¸ºå±äºè‡ªæ„¿èµ ä¸
2. æ‰“èµé‡‘é¢ä¸åŒ…å«ä»»ä½•æœåŠ¡å¯¹ä»·
3. æ‰“èµåä¸äº§ç”Ÿä»»ä½•ä¹‰åŠ¡å…³ç³»
4. æœªæˆå¹´äººè¯·åœ¨ç›‘æŠ¤äººæŒ‡å¯¼ä¸‹æ“ä½œ

## 8. æŠ€æœ¯å’¨è¯¢
æŠ€æœ¯å’¨è¯¢è¯·è”ç³»ï¼š<wangguoxv@163.com>